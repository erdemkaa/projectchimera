{% extends 'layouts/base.html' %}

{% block title %}Protocol Research - Vault 73{% endblock %}

{% block content %}
    <div class="terminal-card large-card">
        {% include 'overseer/_overseer_nav.html' %}

        <h2>Project Chimera Protocol Development</h2>
        <p class="terminal-text small-text">{{ lore_message }}</p>

        <form method="GET" class="query-form">
            <div class="form-group">
                <label for="category_id">Protocol Category ID:</label>
                <input type="text" id="category_id" name="category_id" class="terminal-input" value="{{ request.args.get('category_id', '') }}">
            </div>
            <button type="submit" class="vault-button">Query Database</button>
        </form>

        {% if error %}
            <div class="flash-messages error-message">{{ error }}</div>
        {% endif %}

        {% if protocols %}
            <div class="protocol-results">
                <div class="protocol-list">
                    {% for protocol in protocols %}
                        <div class="protocol-entry">
                            <span class="protocol-designation">Protocol: {{ protocol.protocol_designation }}</span>
                            <span class="protocol-category">Category: {{ protocol.category }}</span>
                            <p class="protocol-objective">Objective: {{ protocol.objective }}</p>
                        </div>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
{% endblock %}